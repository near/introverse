{"version":3,"sources":["config.js","assets/logo.svg","assets/near.svg","UploadCSV.js","fake.js","Connections.js","utils.js","App.js","index.js","assets/logo.png","assets/logo2.png"],"names":["module","exports","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","keyPath","process","HOME","masterAccount","Error","parseOptions","header","dynamicTyping","skipEmptyLines","transformHeader","toLowerCase","replace","reader","props","parseNames","data","map","line","firstName","first_name","lastName","last_name","className","cssClass","label","onFileLoaded","fileName","handleData","parserOptions","fakeData","Connections","state","showData","fuckIt","bind","showTheData","console","log","this","setState","nodeAcc","nodes","links","i","length","j","node","id","name","push","link","source","target","undefined","to","onClick","List","connections","labelId","join","ListItem","key","graphData","Component","stashLocally","window","localStorage","setItem","JSON","stringify","grabFromStorage","parse","getItem","App","login","speech","profileName","signedInFlow","requestSignIn","requestSignOut","signedOutFlow","handleConnectionsData","handleProfileData","uploading","profile","graphUploaded","profileAdded","connectionsAdded","init","wallet","isSignedIn","getAccountId","location","search","includes","origin","pathname","signOut","setTimeout","p","Promise","resolve","then","contract","add_edges","fullname","edges","slice","fullName","style","fontSize","color","textShadow","exact","path","render","src","introverselogo2","alt","introverselogo","a","nearConfig","getConfig","nearlib","Object","assign","deps","keyStore","BrowserLocalStorageKeyStore","near","walletAccount","accountId","connection","acct","viewMethods","changeMethods","sender","nearInitPromise","initContract","ReactDOM","document","getElementById","catch","error"],"mappings":"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","file":"static/js/main.fc8e2684.chunk.js","sourcesContent":["const CONTRACT_NAME = 'introverse';\n\nfunction getConfig(env) {\n    switch (env) {\n\n    case 'production':\n    case 'development':\n        return {\n            networkId: 'default',\n            nodeUrl: 'https://rpc.nearprotocol.com',\n            contractName: CONTRACT_NAME,\n            walletUrl: 'https://wallet.nearprotocol.com',\n            helperUrl: 'https://near-contract-helper.onrender.com',\n        };\n    case 'staging':\n        return {\n            networkId: 'staging',\n            nodeUrl: 'https://staging-rpc.nearprotocol.com/',\n            contractName: CONTRACT_NAME,\n            walletUrl: 'https://near-wallet-staging.onrender.com',\n            helperUrl: 'https://near-contract-helper-staging.onrender.com',\n        };\n    case 'local':\n        return {\n            networkId: 'local',\n            nodeUrl: 'http://localhost:3030',\n            keyPath: `${process.env.HOME}/.near/validator_key.json`,\n            walletUrl: 'http://localhost:4000/wallet',\n            contractName: CONTRACT_NAME,\n        };\n    case 'test':\n    case 'ci':\n        return {\n            networkId: 'shared-test',\n            nodeUrl: 'http://shared-test.nearprotocol.com:3030',\n            contractName: CONTRACT_NAME,\n            masterAccount: 'test.near',\n        };\n    case 'ci-staging':\n        return {\n            networkId: 'shared-test-staging',\n            nodeUrl: 'http://staging-shared-test.nearprotocol.com:3030',\n            contractName: CONTRACT_NAME,\n            masterAccount: 'test.near',\n        };\n    case 'tatooine':\n        return {\n            networkId: 'tatooine',\n            nodeUrl: 'https://rpc.tatooine.nearprotocol.com',\n            contractName: CONTRACT_NAME,\n            walletUrl: 'https://wallet.tatooine.nearprotocol.com',\n        };\n    default:\n        throw Error(`Unconfigured environment '${env}'. Can be configured in src/config.js.`);\n    }\n}\n\nmodule.exports = getConfig;\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/near.53ae53eb.svg\";","import React from \"react\";\nimport CSVReader from \"react-csv-reader\";\n\nconst parseOptions = {\n  header: true,\n  dynamicTyping: true,\n  skipEmptyLines: true,\n  transformHeader: header => header.toLowerCase().replace(/\\W/g, \"_\")\n};\n\nconst reader = props => {\n\n  const handleForce = (data, fileName) => {\n    // console.log(parseNames(data));\n    props.handleData(parseNames(data));\n  };\n\n  const parseNames = data => {\n    return data.map(line => {\n      let firstName = line.first_name;\n      let lastName = line.last_name;\n      return  `${firstName} ${lastName}`\n    });\n  }\n\n  return (\n    <div className=\"container\">\n      <CSVReader\n        cssClass=\"react-csv-input\"\n        label={props.label}\n        onFileLoaded={handleForce}\n        parserOptions={parseOptions}\n      />\n    </div>\n  )\n};\n\nexport default reader;\n","const fakeData = [\n  [\"Peter DePaulo\", \"Turtle Forbes\", \"Chortle Corporate\"],\n  [\"Peter DePaulo\", \"B\", \"C\"],\n  [\"Peter DePaulo\", \"Gorpy Norpy\", \"D\", \"Sasha\"],\n  [\"Peter DePaulo\", \"Turtle Forbes\", \"Sasha\"],\n  [\"Peter DePaulo\", \"Forpes Dorpes\", \"Sasha\"],\n  [\"Peter DePaulo\", \"Sasha\", \"Beyonce\", \"Ashton\"],\n]\n\n// Input vec of vec\n// Draw nodes from idx, edges by inc idx\n// \n\nexport default fakeData;","import React , { Component } from \"react\";\nimport fakeData from \"./fake.js\";\nimport { List, ListItem } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport ForceGraph2D from 'react-force-graph-2d';\n\n\nclass Connections extends Component {\n  constructor(props) {\n    super(props)\n    // let _data = this.fuckIt(fakeData);\n    // console.log(_data);\n    this.state ={\n      showData:false\n    }\n    this.fuckIt = this.fuckIt.bind(this);\n    this.showTheData = this.showTheData.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.fuckIt(fakeData));\n  }\n\n  showTheData(){\n    this.setState({\n      showData:true\n    })\n  }\n\n  fuckIt(data) {\n    let nodeAcc= {};\n    let nodes = [];\n    let links = [];\n    for (let i =0; i<data.length;i++) {\n      for (let j=0; j<data[i].length; j++) {\n        if (!nodeAcc[data[i][j]]) {\n          nodeAcc[data[i][j]] = true;\n          let node = {\n            id: data[i][j],\n            name: data[i][j]\n          }\n          nodes.push(node);\n        }\n        let link = {\n          source: data[i][j],\n          target: data[i][j+1]\n        }\n        if (link.target != undefined) {\n          links.push(link)\n        }\n      }\n    }\n    // for (let i=0;i<nodes.length;i++) {\n    //   for (let j=0;j<data.length;j++) {\n\n    //     if (nodes['id'] === data[i][j]) {\n    //       let link = {\n    //         source: data[i][j],\n    //         target: data[i][j+1]\n    //       }\n    //       links.push(link)\n    //     }\n    //   }\n    // }\n    let ret = {nodes:nodes,links:links}\n    return ret\n\n    // return data.map((connections, i) => {\n    //   return connections((name, j) => {\n    //     if (!nodeAcc[name]) {\n    //       nodeAcc[name] = true;\n    //       return {\n    //         id: i+j,\n    //         name:name\n    //       }\n    //     }\n    //   })\n    // })\n\n  }\n\n  render() {\n    return (\n      \n      <div className=\"container\">\n        <Link to=\"/\">Go Back         </Link>\n        <button onClick={this.showTheData}>Show Data</button>\n        {this.state.showData ? \n        <List>\n          {fakeData.map(connections => {\n            const labelId = `list-label-${connections.join()}`;\n            return(\n              <ListItem key={labelId}>\n                {connections.join(\"-->\")}\n              </ListItem>\n            )\n          })\n          }\n        </List>\n        : \"\"}\n        <ForceGraph2D\n          graphData={this.fuckIt(fakeData)}\n        />, \n  \n      </div>\n    )\n  }\n}\nexport default Connections;\n","\n  export function stashLocally(name, data) {\n    return window.localStorage.setItem(name, JSON.stringify(data));\n  }\n\n  export function grabFromStorage(name) {\n    return JSON.parse(window.localStorage.getItem(name));\n  }\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\nimport logo from './assets/logo.svg';\nimport introverselogo from './assets/logo.png';\nimport introverselogo2 from './assets/logo2.png';\nimport near from './assets/near.svg';\nimport Reader from './UploadCSV.js'\nimport Connections from './Connections.js'\nimport './App.css';\nimport { stashLocally, grabFromStorage } from './utils.js'\n\n// import { makeStyles } from '@material-ui/styles';\nconst GAS = 2_000_000_000_000_000;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: false,\n      speech: null,\n      profileName: \"there\"\n    }\n    this.signedInFlow = this.signedInFlow.bind(this);\n    this.requestSignIn = this.requestSignIn.bind(this);\n    this.requestSignOut = this.requestSignOut.bind(this);\n    this.signedOutFlow = this.signedOutFlow.bind(this);\n    this.handleConnectionsData = this.handleConnectionsData.bind(this);\n    this.handleProfileData = this.handleProfileData.bind(this);\n    this.uploading = false;\n  }\n\n  init() {\n    let profile = grabFromStorage(\"profile\");\n    let connections = grabFromStorage(\"connections\");\n    let graphUploaded = !!grabFromStorage(\"graphUploaded\");\n\n    console.log(profile, connections)\n    this.setState({\n      profileAdded: !!profile,\n      profile: profile,\n      connectionsAdded: !!connections,\n      connections: connections,\n      graphUploaded,\n    }, () => {\n      this.handleData();\n    })\n  }\n\n  componentDidMount() {\n    this.init();\n    let loggedIn = this.props.wallet.isSignedIn();\n    if (loggedIn) {\n      this.signedInFlow();\n    } else {\n      this.signedOutFlow();\n    }\n  }\n\n  async signedInFlow() {\n    console.log(\"come in sign in flow\")\n    this.setState({\n      login: true,\n    })\n    const accountId = await this.props.wallet.getAccountId()\n    if (window.location.search.includes(\"account_id\")) {\n      window.location.replace(window.location.origin + window.location.pathname)\n    }\n  }\n\n  async requestSignIn() {\n    const appTitle = \"Sasha's Services\";\n    await this.props.wallet.requestSignIn(\n      \"\", // window.nearConfig.contractName,  // Uncomment once the allowance is large enough\n      appTitle\n    )\n  }\n\n  requestSignOut() {\n    stashLocally(\"profile\", null);\n    stashLocally(\"connections\", null);\n    stashLocally(\"numUploaded\", 0);\n    this.setState({\n      profile: \"there\",\n      login: false\n    })\n    this.props.wallet.signOut();\n    setTimeout(this.signedOutFlow, 500);\n    console.log(\"after sign out\", this.props.wallet.isSignedIn())\n  }\n\n  signedOutFlow() {\n    if (window.location.search.includes(\"account_id\")) {\n      window.location.replace(window.location.origin + window.location.pathname)\n    }\n    this.setState({\n      login: false,\n      speech: null\n    })\n  }\n\n  handleData() {\n    if (this.state.connections && this.state.profileName && !this.uploading && !this.state.graphUploaded) {\n      this.uploading = true;\n      console.log(\"Uploading your data...\");\n      let p = Promise.resolve();\n      for (let i = grabFromStorage(\"numUploaded\"); i < this.state.connections.length; i += 50) {\n        p = p.then(() => this.props.contract.add_edges({\n          fullname: this.state.profileName,\n          edges: this.state.connections.slice(i, i + 50),\n        }, GAS).then(() => {\n          console.log(\"Uploading \" + i + \" out of \" + this.state.connections.length +  \" DONE!!!\");\n          stashLocally(\"numUploaded\", i + 50);\n        }));\n      }\n      p.then(() => {\n        console.log(\"all done\");\n        stashLocally(\"graphUploaded\", true);\n        this.setState({\n          graphUploaded: true,\n        })\n      })\n    }\n  }\n\n  handleConnectionsData(data) {\n    // console.log(data);\n    // pass data to the server\n    if (!!data){\n      this.setState({\n        connections: data,\n        connectionsAdded: true\n      }, () => {\n        this.handleData();\n      });\n      stashLocally(\"connections\", data);\n      this.handleData();\n    }\n\n  }\n\n  handleProfileData(data) {\n    let fullName = data[0]\n    if (!!data){\n      this.setState({\n        profileName: fullName,\n        profileAdded: true\n      }, () => {\n        this.handleData();\n      });\n      stashLocally(\"profile\", fullName);\n    }\n  }\n\n  render() {\n    let style = {\n      fontSize: \"1.5rem\",\n      color: \"#0072CE\",\n      textShadow: \"1px 1px #D1CCBD\"\n    }\n    return (\n      <Router>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={props => \n              <div className=\"App-header\">\n                <div className=\"image-wrapper\">\n                  {this.state.login ?\n                    <img className=\"logo\" src={introverselogo2} alt=\"INTROVERSE logo\" />\n                  :\n                    <img className=\"logo\" src={introverselogo} alt=\"INTROVERSE logo\" />\n                  }\n                  <p style={style}>Hi, {this.state.profileName}!</p>\n\n                  {this.state.connectionsAdded && (\n                    <Link to=\"/connections\"> View My Connections </Link>\n                  )}\n                </div>\n                <div>\n                  {this.state.login ? \n                    <div style={{color:\"black\"}}>\n                      \n                      <div>\n                        {this.state.profileAdded ? <p>\"Profile Added\"</p> :\n                          <Reader label={\"Add your Profile here: \"} handleData={this.handleProfileData} />\n                        }\n                        {this.state.connectionsAdded ? <p>\"Connections Added\"</p> : \n                          <Reader label={\"Add your Connections here: \"} handleData={this.handleConnectionsData} />\n                        }\n                      </div>\n                    </div>\n                    :\n                    \"Login to upload your homies\"\n                  }\n                </div>\n                <div>\n                  {this.state.login ? <button onClick={this.requestSignOut}>Log out</button>\n                    : <button onClick={this.requestSignIn}>Log in with NEAR</button>}\n                </div>\n\n              </div>} />\n          <Route \n            path=\"/connections\"\n            render={props => <Connections {...props}/>} />\n        </Switch> \n      </Router>\n    )\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport getConfig from './config.js';\nimport * as nearlib from 'nearlib';\n// This is to help with building\nimport 'regenerator-runtime/runtime'\n\n// Initializing contract\nasync function initContract() {\n    window.nearConfig = getConfig(process.env.NODE_ENV || 'development')\n    console.log(\"nearConfig\", window.nearConfig);\n\n    // Initializing connection to the NEAR DevNet.\n    window.near = await nearlib.connect(Object.assign({ deps: { keyStore: new nearlib.keyStores.BrowserLocalStorageKeyStore() } }, window.nearConfig));\n    \n    // Needed to access wallet login\n    window.walletAccount = new nearlib.WalletAccount(window.near);\n    \n    // Getting the Account ID. If unauthorized yet, it's just empty string.\n    window.accountId = window.walletAccount.getAccountId();\n\n    // Initializing our contract APIs by contract name and configuration.\n    let acct = await new nearlib.Account(window.near.connection, window.accountId);\n    window.contract = await new nearlib.Contract(acct, window.nearConfig.contractName, {\n        // View methods are read only. They don't modify the state, but usually return some value.\n        viewMethods: ['search', 'get_graph', 'get_on_chain_graph', 'is_on_chain'],\n        // Change methods can modify the state. But you don't receive the returned value when called.\n        changeMethods: ['add_edges'],\n        // Sender is the account ID to initialize transactions.\n        sender: window.accountId\n    });\n}\n\nwindow.nearInitPromise = initContract().then(() => {\n  ReactDOM.render(<App contract={window.contract} wallet={window.walletAccount} />,\n    document.getElementById('root')\n  );\n}).catch(console.error)","module.exports = __webpack_public_path__ + \"static/media/logo.5254dfbb.png\";","module.exports = __webpack_public_path__ + \"static/media/logo2.c7477cc4.png\";"],"sourceRoot":""}