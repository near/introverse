(this.webpackJsonpintroverse=this.webpackJsonpintroverse||[]).push([[0],{119:function(e,t){},125:function(e,t){},142:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(19),c=n(0),i=n.n(c),s=n(60),l=n.n(s),d=n(61),u=n(62),p=n(69),w=n(63),h=n(11),g=n(70),m=n(64),f=n.n(m),v=n(65),b=n.n(v),E=n(66),O=n.n(E),k=n(67),y=n.n(k),C={header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}},I=function(e){var t=function(e){return e.map((function(e){var t=e.first_name,n=e.last_name;return"".concat(t," ").concat(n)}))};return i.a.createElement("div",{className:"container"},i.a.createElement(y.a,{cssClass:"react-csv-input",label:e.label,onFileLoaded:function(n,o){e.handleData(t(n))},parserOptions:C}))},N=(n(79),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(w.a)(t).call(this,e))).state={login:!1,speech:null,profileName:"there",addedProfile:!1,addedConnections:!1},n.signedInFlow=n.signedInFlow.bind(Object(h.a)(n)),n.requestSignIn=n.requestSignIn.bind(Object(h.a)(n)),n.requestSignOut=n.requestSignOut.bind(Object(h.a)(n)),n.signedOutFlow=n.signedOutFlow.bind(Object(h.a)(n)),n.handleConnectionsData=n.handleConnectionsData.bind(Object(h.a)(n)),n.handleProfileData=n.handleProfileData.bind(Object(h.a)(n)),n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.wallet.isSignedIn()?this.signedInFlow():this.signedOutFlow()}},{key:"signedInFlow",value:function(){var e=Object(r.a)(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("come in sign in flow"),this.setState({login:!0}),e.next=4,this.props.wallet.getAccountId();case 4:t=e.sent,window.location.search.includes("account_id")&&window.location.replace(window.location.origin+window.location.pathname),this.props.contract.welcome({name:t}).then((function(e){return n.setState({speech:e.text})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestSignIn",value:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Sasha Services",e.next=3,this.props.wallet.requestSignIn(window.nearConfig.contractName,"Sasha Services");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestSignOut",value:function(){this.props.wallet.signOut(),setTimeout(this.signedOutFlow,500),console.log("after sign out",this.props.wallet.isSignedIn())}},{key:"signedOutFlow",value:function(){window.location.search.includes("account_id")&&window.location.replace(window.location.origin+window.location.pathname),this.setState({login:!1,speech:null})}},{key:"handleConnectionsData",value:function(e){console.log(e),this.setState({connections:e,connectionsAdded:!0})}},{key:"handleProfileData",value:function(e){var t=e[0];this.setState({profileName:t,profileAdded:!0})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App-header"},i.a.createElement("div",{className:"image-wrapper"},i.a.createElement("img",{className:"logo",src:b.a,alt:"NEAR logo"}),i.a.createElement("p",{style:{fontSize:"1.5rem",color:"#0072CE",textShadow:"1px 1px #D1CCBD"}},"Hi, ",this.state.profileName,"!")),i.a.createElement("div",null,this.state.login?i.a.createElement("div",{style:{color:"black"}},i.a.createElement("div",null,this.state.profileAdded?"Profile Added":i.a.createElement(I,{label:"Add your Profile here: ",handleData:this.handleProfileData}),this.state.connectionsAdded?"Connections Added":i.a.createElement(I,{label:"Add your Connections here: ",handleData:this.handleConnectionsData}))):"Login to upload your homies"),i.a.createElement("div",null,this.state.login?i.a.createElement("button",{onClick:this.requestSignOut},"Log out"):i.a.createElement("button",{onClick:this.requestSignIn},"Log in with NEAR")),i.a.createElement("div",null,i.a.createElement("div",{className:"logo-wrapper"},i.a.createElement("img",{src:O.a,className:"App-logo margin-logo",alt:"logo"}),i.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"})),i.a.createElement("p",null,"Edit ",i.a.createElement("code",null,"src/App.js")," and save to reload.")))}}]),t}(c.Component)),S=n(68),A=n.n(S),j=n(15);n(29);function x(){return(x=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.nearConfig=A()("production"),console.log("nearConfig",window.nearConfig),e.next=4,j.connect(Object.assign({deps:{keyStore:new j.keyStores.BrowserLocalStorageKeyStore}},window.nearConfig));case 4:return window.near=e.sent,window.walletAccount=new j.WalletAccount(window.near),window.accountId=window.walletAccount.getAccountId(),e.next=9,new j.Account(window.near.connection,window.accountId);case 9:return t=e.sent,e.next=12,new j.Contract(t,window.nearConfig.contractName,{viewMethods:["welcome"],changeMethods:[],sender:window.accountId});case 12:window.contract=e.sent;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return x.apply(this,arguments)}().then((function(){l.a.render(i.a.createElement(N,{contract:window.contract,wallet:window.walletAccount}),document.getElementById("root"))})).catch(console.error)},64:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},65:function(e,t,n){e.exports=n.p+"static/media/gray_near_logo.55517b93.svg"},66:function(e,t,n){e.exports=n.p+"static/media/near.53ae53eb.svg"},68:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:""}).CONTRACT_NAME||"nearapp";e.exports=function(e){switch(e){case"production":case"development":return{networkId:"default",nodeUrl:"https://rpc.nearprotocol.com",contractName:n,walletUrl:"https://wallet.nearprotocol.com",helperUrl:"https://near-contract-helper.onrender.com"};case"staging":return{networkId:"staging",nodeUrl:"https://staging-rpc.nearprotocol.com/",contractName:n,walletUrl:"https://near-wallet-staging.onrender.com",helperUrl:"https://near-contract-helper-staging.onrender.com"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"http://shared-test.nearprotocol.com:3030",contractName:n,masterAccount:"test.near"};case"ci-staging":return{networkId:"shared-test-staging",nodeUrl:"http://staging-shared-test.nearprotocol.com:3030",contractName:n,masterAccount:"test.near"};case"tatooine":return{networkId:"tatooine",nodeUrl:"https://rpc.tatooine.nearprotocol.com",contractName:n,walletUrl:"https://wallet.tatooine.nearprotocol.com"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},71:function(e,t,n){e.exports=n(142)},79:function(e,t,n){},94:function(e,t){},96:function(e,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.fa93a57e.chunk.js.map